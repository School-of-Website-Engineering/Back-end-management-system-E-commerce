{"version":3,"file":"js/458.dfce31ab.js","mappings":"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","sources":["webpack://Back-end-management-system-E-commerce/./src/components/user/Users.vue","webpack://Back-end-management-system-E-commerce/src/components/user/Users.vue","webpack://Back-end-management-system-E-commerce/./src/components/user/Users.vue?939f","webpack://Back-end-management-system-E-commerce/./src/components/user/Users.vue?a8d0"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/home' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"用户管理\")]),_c('el-breadcrumb-item',[_vm._v(\"用户列表\")])],1),_c('br'),_c('el-card',[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":8}},[_c('el-input',{staticClass:\"input-with-select\",attrs:{\"placeholder\":\"请输入内容\",\"clearable\":\"\"},on:{\"clear\":_vm.getUserList},model:{value:(_vm.queryInfo.query),callback:function ($$v) {_vm.$set(_vm.queryInfo, \"query\", $$v)},expression:\"queryInfo.query\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.getUserList},slot:\"append\"})],1)],1),_c('el-col',{attrs:{\"span\":4}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.addDialogVisible = true}}},[_vm._v(\"添加用户\")])],1)],1),_c('br'),_c('el-table',{attrs:{\"data\":_vm.userList,\"border\":\"\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"#\"}}),_c('el-table-column',{attrs:{\"label\":\"姓名\",\"prop\":\"username\"}}),_c('el-table-column',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}}),_c('el-table-column',{attrs:{\"label\":\"电话\",\"prop\":\"mobile\"}}),_c('el-table-column',{attrs:{\"label\":\"角色\",\"prop\":\"role_name\"}}),_c('el-table-column',{attrs:{\"label\":\"状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-switch',{on:{\"change\":function($event){return _vm.userStateChanged(scope.row)}},model:{value:(scope.row.mg_state),callback:function ($$v) {_vm.$set(scope.row, \"mg_state\", $$v)},expression:\"scope.row.mg_state\"}})]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function({}){return [_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.showEditDialog()}}}),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"size\":\"mini\"}}),_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":\"分配角色\",\"placement\":\"top\",\"enterable\":false}},[_c('el-button',{attrs:{\"type\":\"warning\",\"icon\":\"el-icon-setting\",\"size\":\"mini\"}})],1)]}}])})],1),_c('br'),_c('el-pagination',{attrs:{\"current-page\":_vm.queryInfo.pagenum,\"page-sizes\":[1, 2, 3, 4],\"page-size\":_vm.queryInfo.pagesize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_c('el-dialog',{attrs:{\"title\":\"添加用户\",\"visible\":_vm.addDialogVisible,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.addDialogVisible=$event},\"close\":_vm.addDialogClosed}},[_c('el-form',{ref:\"addFormRef\",attrs:{\"model\":_vm.addForm,\"rules\":_vm.addFormRules,\"label-width\":\"70px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"username\"}},[_c('el-input',{model:{value:(_vm.addForm.username),callback:function ($$v) {_vm.$set(_vm.addForm, \"username\", $$v)},expression:\"addForm.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{model:{value:(_vm.addForm.password),callback:function ($$v) {_vm.$set(_vm.addForm, \"password\", $$v)},expression:\"addForm.password\"}})],1),_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('el-input',{model:{value:(_vm.addForm.email),callback:function ($$v) {_vm.$set(_vm.addForm, \"email\", $$v)},expression:\"addForm.email\"}})],1),_c('el-form-item',{attrs:{\"label\":\"手机\",\"prop\":\"mobile\"}},[_c('el-input',{model:{value:(_vm.addForm.mobile),callback:function ($$v) {_vm.$set(_vm.addForm, \"mobile\", $$v)},expression:\"addForm.mobile\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addUser}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"修改用户\",\"visible\":_vm.editDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.editDialogVisible=$event}}},[_c('span',[_vm._v(\"这是一段信息\")]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.editDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.editDialogVisible = false}}},[_vm._v(\"确 定\")])],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/* eslint-disable no-unused-vars*/\n<template>\n\t<div>\n\t\t<!--面包屑导航-->\n\t\t<el-breadcrumb separator-class=\"el-icon-arrow-right\">\n\t\t\t<el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\n\t\t\t<el-breadcrumb-item>用户管理</el-breadcrumb-item>\n\t\t\t<el-breadcrumb-item>用户列表</el-breadcrumb-item>\n\t\t</el-breadcrumb>\n\t\t<!--卡片视图区-->\n\t\t<br />\n\t\t<el-card>\n\t\t\t<el-row :gutter=\"20\">\n\t\t\t\t<el-col :span=\"8\">\n\t\t\t\t\t<!-- 搜索 -->\n\t\t\t\t\t<el-input\n\t\t\t\t\t\tplaceholder=\"请输入内容\"\n\t\t\t\t\t\tclass=\"input-with-select\"\n\t\t\t\t\t\tv-model=\"queryInfo.query\"\n\t\t\t\t\t\tclearable\n\t\t\t\t\t\t@clear=\"getUserList\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<el-button\n\t\t\t\t\t\t\tslot=\"append\"\n\t\t\t\t\t\t\ticon=\"el-icon-search\"\n\t\t\t\t\t\t\t@click=\"getUserList\"\n\t\t\t\t\t\t></el-button>\n\t\t\t\t\t</el-input>\n\t\t\t\t</el-col>\n\t\t\t\t<el-col :span=\"4\">\n\t\t\t\t\t<el-button type=\"primary\" @click=\"addDialogVisible = true\"\n\t\t\t\t\t\t>添加用户</el-button\n\t\t\t\t\t>\n\t\t\t\t</el-col>\n\t\t\t</el-row>\n\t\t\t<!-- 用户列表 -->\n\t\t\t<br />\n\t\t\t<el-table :data=\"userList\" border stripe>\n\t\t\t\t<el-table-column type=\"index\" label=\"#\"></el-table-column>\n\t\t\t\t<el-table-column label=\"姓名\" prop=\"username\"></el-table-column>\n\t\t\t\t<el-table-column label=\"邮箱\" prop=\"email\"></el-table-column>\n\t\t\t\t<el-table-column label=\"电话\" prop=\"mobile\"></el-table-column>\n\t\t\t\t<el-table-column label=\"角色\" prop=\"role_name\"></el-table-column>\n\t\t\t\t<el-table-column label=\"状态\">\n\t\t\t\t\t<template v-slot=\"scope\">\n\t\t\t\t\t\t<el-switch\n\t\t\t\t\t\t\t@change=\"userStateChanged(scope.row)\"\n\t\t\t\t\t\t\tv-model=\"scope.row.mg_state\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t</el-switch>\n\t\t\t\t\t</template>\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column label=\"操作\">\n\t\t\t\t\t<template v-slot=\"{}\">\n\t\t\t\t\t\t<el-button\n\t\t\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t\t\ticon=\"el-icon-edit\"\n\t\t\t\t\t\t\tsize=\"mini\"\n\t\t\t\t\t\t\t@click=\"showEditDialog()\"\n\t\t\t\t\t\t></el-button>\n\t\t\t\t\t\t<el-button\n\t\t\t\t\t\t\ttype=\"danger\"\n\t\t\t\t\t\t\ticon=\"el-icon-delete\"\n\t\t\t\t\t\t\tsize=\"mini\"\n\t\t\t\t\t\t></el-button>\n\t\t\t\t\t\t<el-tooltip\n\t\t\t\t\t\t\teffect=\"dark\"\n\t\t\t\t\t\t\tcontent=\"分配角色\"\n\t\t\t\t\t\t\tplacement=\"top\"\n\t\t\t\t\t\t\t:enterable=\"false\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<el-button\n\t\t\t\t\t\t\t\ttype=\"warning\"\n\t\t\t\t\t\t\t\ticon=\"el-icon-setting\"\n\t\t\t\t\t\t\t\tsize=\"mini\"\n\t\t\t\t\t\t\t></el-button>\n\t\t\t\t\t\t</el-tooltip>\n\t\t\t\t\t</template>\n\t\t\t\t</el-table-column>\n\t\t\t</el-table>\n\t\t\t<!-- 分页 -->\n\t\t\t<br />\n\t\t\t<el-pagination\n\t\t\t\t@size-change=\"handleSizeChange\"\n\t\t\t\t@current-change=\"handleCurrentChange\"\n\t\t\t\t:current-page=\"queryInfo.pagenum\"\n\t\t\t\t:page-sizes=\"[1, 2, 3, 4]\"\n\t\t\t\t:page-size=\"queryInfo.pagesize\"\n\t\t\t\tlayout=\"total, sizes, prev, pager, next, jumper\"\n\t\t\t\t:total=\"total\"\n\t\t\t>\n\t\t\t</el-pagination>\n\t\t</el-card>\n\t\t<!-- //添加用户对话框 -->\n\t\t<el-dialog\n\t\t\ttitle=\"添加用户\"\n\t\t\t:visible.sync=\"addDialogVisible\"\n\t\t\twidth=\"30%\"\n\t\t\t@close=\"addDialogClosed\"\n\t\t>\n\t\t\t<!-- main -->\n\t\t\t<el-form\n\t\t\t\t:model=\"addForm\"\n\t\t\t\t:rules=\"addFormRules\"\n\t\t\t\tref=\"addFormRef\"\n\t\t\t\tlabel-width=\"70px\"\n\t\t\t>\n\t\t\t\t<el-form-item label=\"用户名\" prop=\"username\">\n\t\t\t\t\t<el-input v-model=\"addForm.username\"></el-input>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"密码\" prop=\"password\">\n\t\t\t\t\t<el-input v-model=\"addForm.password\"></el-input>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"邮箱\" prop=\"email\">\n\t\t\t\t\t<el-input v-model=\"addForm.email\"></el-input>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"手机\" prop=\"mobile\">\n\t\t\t\t\t<el-input v-model=\"addForm.mobile\"></el-input>\n\t\t\t\t</el-form-item>\n\t\t\t</el-form>\n\t\t\t<!-- 底部内容 -->\n\t\t\t<span slot=\"footer\" class=\"dialog-footer\">\n\t\t\t\t<el-button @click=\"addDialogVisible = false\">取 消</el-button>\n\t\t\t\t<el-button type=\"primary\" @click=\"addUser\">确 定</el-button>\n\t\t\t</span>\n\t\t</el-dialog>\n\t\t<!-- //修改用户对话框 -->\n\t\t<el-dialog title=\"修改用户\" :visible.sync=\"editDialogVisible\" width=\"50%\">\n\t\t\t<span>这是一段信息</span>\n\t\t\t<span slot=\"footer\" class=\"dialog-footer\">\n\t\t\t\t<el-button @click=\"editDialogVisible = false\">取 消</el-button>\n\t\t\t\t<el-button type=\"primary\" @click=\"editDialogVisible = false\"\n\t\t\t\t\t>确 定</el-button\n\t\t\t\t>\n\t\t\t</span>\n\t\t</el-dialog>\n\t</div>\n</template>\n\n<script>\nexport default {\n\tdata() {\n\t\t//邮箱规则\n\t\tvar checkEmail = (rule, value, cb) => {\n\t\t\tconst regEmail = /^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)+$/;\n\t\t\tif (!regEmail.test(value)) {\n\t\t\t\tcb(new Error(\"邮箱格式不正确\"));\n\t\t\t}\n\t\t\telse {\n\t\t\t\tcb();\n\t\t\t}\n\t\t};\n\t\t//手机号规则\n\t\tvar checkMobile = (rule, value, cb) => {\n\t\t\tconst regMobile = /^1[3-9]\\d{9}$/;\n\t\t\tif (!regMobile.test(value)) {\n\t\t\t\tcb(new Error(\"手机号格式不正确\"));\n\t\t\t}\n\t\t\telse {\n\t\t\t\tcb();\n\t\t\t}\n\t\t};\n\t\treturn {\n\t\t\t//获取用户列表的参数\n\t\t\tqueryInfo: {\n\t\t\t\tquery: \"\",\n\t\t\t\tpagenum: 1,\n\t\t\t\tpagesize: 2,\n\t\t\t},\n\t\t\t//用户列表数据\n\t\t\tuserList: [],\n\t\t\t//总数据\n\t\t\ttotal: 0,\n\t\t\t//添加用户框的显示与隐藏\n\t\t\taddDialogVisible: false,\n\t\t\t//用户的表单数据\n\t\t\taddForm: {\n\t\t\t\tusername: \"\",\n\t\t\t\tpassword: \"\",\n\t\t\t\temail: \"\",\n\t\t\t\tmobile: \"\",\n\t\t\t},\n\t\t\t//表单验证对象\n\t\t\taddFormRules: {\n\t\t\t\tusername: [\n\t\t\t\t\t{ required: true, message: \"请输入用户名\", trigger: \"blur\" },\n\t\t\t\t\t{ min: 3, max: 10, message: \"长度在3到10个字符\", trigger: \"blur\" },\n\t\t\t\t],\n\t\t\t\tpassword: [\n\t\t\t\t\t{ required: true, message: \"请输入密码\", trigger: \"blur\" },\n\t\t\t\t\t{ min: 6, max: 12, message: \"长度在6到12个字符\", trigger: \"blur\" },\n\t\t\t\t],\n\t\t\t\temail: [\n\t\t\t\t\t{ required: true, message: \"请输入邮箱\", trigger: \"blur\" },\n\t\t\t\t\t{ type: \"email\", message: \"请输入正确的邮箱格式\", trigger: \"blur\" }\n\t\t\t\t],\n\t\t\t\tmobile: [\n\t\t\t\t\t{ required: true, message: \"请输入手机号\", trigger: \"blur\" },\n\t\t\t\t\t{\n\t\t\t\t\t\tpattern: /^1[3456789]\\d{9}$/,\n\t\t\t\t\t\tmessage: \"请输入正确的手机号\",\n\t\t\t\t\t\ttrigger: \"blur\",\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\t\t\t//修改用户框的显示与隐藏\n\t\t\teditDialogVisible: false,\n\t\t};\n\t},\n\tcreated() {\n\t\tthis.getUserList();\n\t},\n\tmethods: {\n\t\tasync getUserList() {\n\t\t\tconst { data: res } = await this.$http.get(\"users\", {\n\t\t\t\tparams: this.queryInfo,\n\t\t\t});\n\t\t\t//数据获取失败\n\t\t\tif (res.meta.status !== 200) {\n\t\t\t\treturn this.$message.error(\"获取用户列表失败\");\n\t\t\t}\n\t\t\tthis.userList = res.data.users;\n\t\t\tthis.total = res.data.total;\n\t\t},\n\t\t//页码改变\n\t\thandleSizeChange(val) {\n\t\t\tthis.queryInfo.pagesize = val;\n\t\t\tthis.getUserList();\n\t\t},\n\t\t//页码值改变\n\t\thandleCurrentChange(val) {\n\t\t\tthis.queryInfo.pagenum = val;\n\t\t\tthis.getUserList();\n\t\t},\n\t\t//用户状态改变\n\t\tasync userStateChanged(userInfo) {\n\t\t\tconst { data: result } = await this.$http.put(\n\t\t\t\t`users/${userInfo.id}/state/${userInfo.mg_state}`,\n\t\t\t);\n\t\t\t//修改失败\n\t\t\tif (result.meta.status !== 200) {\n\t\t\t\tuserInfo.mg_state = !userInfo.mg_state;\n\t\t\t\treturn this.$message.error(\"修改用户状态失败\");\n\t\t\t}\n\t\t\tthis.$message.success(\"修改用户状态成功\");\n\t\t},\n\t\t//添加用户关闭\n\t\taddDialogClosed() {\n\t\t\tthis.$refs.addFormRef.resetFields();\n\t\t},\n\t\t//添加用户\n\t\taddUser() {\n\t\t\tthis.$refs.addFormRef.validate(async (valid) => {\n\t\t\t\t//验证失败\n\t\t\t\tif (!valid) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst { data: result } = await this.$http.post(\"users\", this.addForm);\n\t\t\t\t//添加失败\n\t\t\t\tif (result.meta.status !== 201) {\n\t\t\t\t\treturn this.$message.error(\"添加用户失败\");\n\t\t\t\t}\n\t\t\t\tthis.$message.success(\"添加用户成功\");\n\t\t\t\t//关闭对话框\n\t\t\t\tthis.addDialogVisible = false;\n\t\t\t\t//重新获取用户列表\n\t\t\t\tawait this.getUserList();\n\t\t\t});\n\t\t},\n\t\t//展示编辑用户对话框\n\t\tshowEditDialog() {\n\t\t\tthis.editDialogVisible = true;\n\t\t},\n\t},\n};\n</script>\n\n<style scoped lang=\"scss\">\n.el-card {\n\tbox-shadow: 0 1px 1px rgba(0, 0, 0, 0.15);\n}\n.el-table {\n\tfont-size: 14px;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Users.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Users.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Users.vue?vue&type=template&id=94e33fde&scoped=true&\"\nimport script from \"./Users.vue?vue&type=script&lang=js&\"\nexport * from \"./Users.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Users.vue?vue&type=style&index=0&id=94e33fde&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"94e33fde\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","path","_v","staticClass","on","getUserList","model","value","queryInfo","query","callback","$$v","$set","expression","slot","$event","addDialogVisible","userList","scopedSlots","_u","key","fn","scope","userStateChanged","row","mg_state","showEditDialog","pagenum","pagesize","total","handleSizeChange","handleCurrentChange","addDialogClosed","ref","addForm","addFormRules","username","password","email","mobile","addUser","editDialogVisible","staticRenderFns","data","required","message","trigger","min","max","type","pattern","created","methods","params","userInfo","component"],"sourceRoot":""}