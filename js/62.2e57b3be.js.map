{"version":3,"file":"js/62.2e57b3be.js","mappings":"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","sources":["webpack://Back-end-management-system-E-commerce/./src/components/power/Roles.vue","webpack://Back-end-management-system-E-commerce/src/components/power/Roles.vue","webpack://Back-end-management-system-E-commerce/./src/components/power/Roles.vue?fd0e","webpack://Back-end-management-system-E-commerce/./src/components/power/Roles.vue?a0df"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/home' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"角色管理\")]),_c('el-breadcrumb-item',[_vm._v(\"角色列表\")])],1),_c('br'),_c('el-card',[_c('el-row',[_c('el-button',{attrs:{\"type\":\"primary\"}},[_vm._v(\"添加角色\")])],1),_c('br'),_c('el-table',{attrs:{\"data\":_vm.roleList,\"border\":\"\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"expand\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-form',{staticClass:\"demo-table-expand\",attrs:{\"label-position\":\"left\",\"inline\":\"\"}},_vm._l((scope.row.children),function(item1,i1){return _c('el-row',{key:item1.id,class:['bdbottom', i1 === 0 ? 'bdtop' : '']},[_c('el-col',{attrs:{\"span\":5}},[_c('el-tag',[_vm._v(\" \"+_vm._s(item1.authName))]),_c('i',{staticClass:\"el-icon-arrow-right\"})],1),_c('el-col',{attrs:{\"span\":19}},_vm._l((item1.children),function(item2,i2){return _c('el-row',{key:item2.id,class:[i2 === 0 ? '' : 'bdtop']},[_c('el-col',[_c('el-tag',{attrs:{\"type\":\"success\"}},[_vm._v(\" \"+_vm._s(item2.authName))]),_c('i',{staticClass:\"el-icon-arrow-right\"})],1),_c('el-col')],1)}),1)],1)}),1)]}}])}),_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"ID\",\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"roleName\",\"label\":\"角色名称\"}}),_c('el-table-column',{attrs:{\"prop\":\"roleDesc\",\"label\":\"角色描述\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"}},[_vm._v(\"分配权限\")]),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.showEditDialog(scope.row.id+'')}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.removeUserById(scope.row.id)}}},[_vm._v(\"删除\")])]}}])})],1)],1),_c('el-dialog',{attrs:{\"title\":\"修改角色\",\"visible\":_vm.editDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.editDialogVisible=$event}}},[_c('el-form',{ref:\"editForm\",attrs:{\"model\":_vm.roleList,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"角色名称\"}},[_c('el-input',{model:{value:(_vm.roleList.roleName),callback:function ($$v) {_vm.$set(_vm.roleList, \"roleName\", $$v)},expression:\"roleList.roleName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"角色描述\"}},[_c('el-input',{model:{value:(_vm.roleList.roleDesc),callback:function ($$v) {_vm.$set(_vm.roleList, \"roleDesc\", $$v)},expression:\"roleList.roleDesc\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.editDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.editRole}},[_vm._v(\"确 定\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div>\n\t\t<!--面包屑导航-->\n\t\t<el-breadcrumb separator-class=\"el-icon-arrow-right\">\n\t\t\t<el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\n\t\t\t<el-breadcrumb-item>角色管理</el-breadcrumb-item>\n\t\t\t<el-breadcrumb-item>角色列表</el-breadcrumb-item>\n\t\t</el-breadcrumb>\n\t\t<!--卡片视图区-->\n\t\t<br />\n\t\t<el-card>\n\t\t\t<el-row>\n\t\t\t\t<el-button type=\"primary\">添加角色</el-button>\n\t\t\t</el-row>\n\t\t\t<!--角色列表-->\n\t\t\t<br />\n\t\t\t<el-table :data=\"roleList\" border stripe>\n\t\t\t\t<el-table-column type=\"expand\">\n\t\t\t\t\t<!-- // 展开行模板 -->\n\t\t\t\t\t<template v-slot=\"scope\">\n\t\t\t\t\t\t<el-form label-position=\"left\" inline class=\"demo-table-expand\">\n\t\t\t\t\t\t\t<el-row\n\t\t\t\t\t\t\t\tv-for=\"(item1, i1) in scope.row.children\"\n\t\t\t\t\t\t\t\t:key=\"item1.id\"\n\t\t\t\t\t\t\t\t:class=\"['bdbottom', i1 === 0 ? 'bdtop' : '']\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<!-- 一级权限 -->\n\t\t\t\t\t\t\t\t<el-col :span=\"5\">\n\t\t\t\t\t\t\t\t\t<el-tag> {{ item1.authName }}</el-tag>\n\t\t\t\t\t\t\t\t\t<i class=\"el-icon-arrow-right\"></i>\n\t\t\t\t\t\t\t\t</el-col>\n\n\t\t\t\t\t\t\t\t<!-- 二、三级权限 -->\n\t\t\t\t\t\t\t\t<el-col :span=\"19\">\n\t\t\t\t\t\t\t\t\t<el-row\n\t\t\t\t\t\t\t\t\t\tv-for=\"(item2, i2) in item1.children\"\n\t\t\t\t\t\t\t\t\t\t:key=\"item2.id\"\n\t\t\t\t\t\t\t\t\t\t:class=\"[i2 === 0 ? '' : 'bdtop']\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<el-col>\n\t\t\t\t\t\t\t\t\t\t\t<el-tag type=\"success\"> {{ item2.authName }}</el-tag>\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"el-icon-arrow-right\"></i>\n\t\t\t\t\t\t\t\t\t\t</el-col>\n\t\t\t\t\t\t\t\t\t\t<el-col></el-col>\n\t\t\t\t\t\t\t\t\t</el-row>\n\t\t\t\t\t\t\t\t</el-col>\n\t\t\t\t\t\t\t</el-row>\n\t\t\t\t\t\t</el-form>\n\t\t\t\t\t</template>\n\t\t\t\t</el-table-column>\n\t\t\t\t<!-- 索引列 -->\n\t\t\t\t<el-table-column prop=\"id\" label=\"ID\" width=\"100\"></el-table-column>\n\t\t\t\t<el-table-column prop=\"roleName\" label=\"角色名称\"></el-table-column>\n\t\t\t\t<el-table-column prop=\"roleDesc\" label=\"角色描述\"></el-table-column>\n\t\t\t\t<el-table-column label=\"操作\" width=\"180\">\n\t\t\t\t\t<template v-slot=\"scope\">\n\t\t\t\t\t\t<el-button type=\"text\" size=\"small\">分配权限</el-button>\n\t\t\t\t\t\t<el-button\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t@click=\"showEditDialog(scope.row.id+'')\"\n\t\t\t\t\t\t\t>编辑</el-button\n\t\t\t\t\t\t>\n\t\t\t\t\t\t<el-button\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t@click=\"removeUserById(scope.row.id)\"\n\t\t\t\t\t\t\t>删除</el-button\n\t\t\t\t\t\t>\n\t\t\t\t\t</template>\n\t\t\t\t</el-table-column>\n\t\t\t</el-table>\n\t\t</el-card>\n\t\t<!-- //修改角色对话框 -->\n\t\t<el-dialog title=\"修改角色\" :visible.sync=\"editDialogVisible\" width=\"50%\">\n\t\t\t<el-form ref=\"editForm\" :model=\"roleList\" label-width=\"80px\">\n\t\t\t\t<el-form-item label=\"角色名称\">\n\t\t\t\t\t<el-input v-model=\"roleList.roleName\"></el-input>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"角色描述\">\n\t\t\t\t\t<el-input v-model=\"roleList.roleDesc\"></el-input>\n\t\t\t\t</el-form-item>\n\t\t\t</el-form>\n\t\t\t<span slot=\"footer\" class=\"dialog-footer\">\n\t\t\t\t<el-button @click=\"editDialogVisible = false\">取 消</el-button>\n\t\t\t\t<el-button type=\"primary\" @click=\"editRole\">确 定</el-button>\n\t\t\t</span>\n\t\t</el-dialog>\n\t</div>\n</template>\n\n<script>\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\t//角色列表数据\n\t\t\troleList         : [],\n\t\t\t//修改角色框的显示与隐藏\n\t\t\teditDialogVisible: false\n\t\t};\n\t},\n\tcreated() {\n\t\t//获取角色列表数据\n\t\tthis.getRoleList();\n\t},\n\tmethods: {\n\t\t//获取角色列表数据\n\t\tasync getRoleList() {\n\t\t\t//发送请求\n\t\t\tconst { data: res } = await this.$http.get(\"roles\");\n\t\t\t//判断是否获取成功\n\t\t\tif (res.meta.status !== 200) {\n\t\t\t\treturn this.$message.error(\"获取角色列表失败\");\n\t\t\t}\n\t\t\t//获取成功\n\t\t\tthis.roleList = res.data;\n\t\t},\n\t\t\n\t\t//删除角色\n\t\tasync removeUserById(id) {\n\t\t\t//提示用户是否删除\n\t\t\tconst confirmResult = await this.$confirm(\"此操作将永久删除该角色, 是否继续?\", \"提示\", {\n\t\t\t\tconfirmButtonText: \"确定\",\n\t\t\t\tcancelButtonText : \"取消\",\n\t\t\t\ttype             : \"warning\"\n\t\t\t});\n\t\t\t//判断用户是否点击了取消按钮\n\t\t\tif (confirmResult === \"cancel\") {\n\t\t\t\treturn this.$message.info(\"已取消删除\");\n\t\t\t}\n\t\t\t//发送请求\n\t\t\tconst { data: res } = await this.$http.delete(`roles/${id}`);\n\t\t\t//判断是否删除成功\n\t\t\tif (res.meta.status !== 200) {\n\t\t\t\treturn this.$message.error(\"删除角色失败\");\n\t\t\t}\n\t\t\t//删除成功\n\t\t\tthis.$message.success(\"删除角色成功\");\n\t\t\t//重新获取角色列表数据\n\t\t\tawait this.getRoleList();\n\t\t},\n\t\t//展示修改角色对话框\n\t\tasync showEditDialog(id) {\n\t\t\t//发送请求\n\t\t\tconst { data: res } = await this.$http.get(`roles/${id}`);\n\t\t\t//判断是否获取成功\n\t\t\tif (res.meta.status !== 200) {\n\t\t\t\treturn this.$message.error(\"获取角色信息失败\");\n\t\t\t}\n\t\t\t//获取成功\n\t\t\tthis.roleList = res.data;\n\t\t\t//显示修改角色对话框\n\t\t\tthis.editDialogVisible = true;\n\t\t},\n\t\t//修改角色信息并提交\n\t\tasync editRole() {\n\t\t\t//获取表单数据\n\t\t\tconst { roleName, roleDesc } = this.roleList;\n\t\t\t//发送请求\n\t\t\tconst { data: res } = await this.$http.put(`roles/${this.roleList.id}`, {\n\t\t\t\troleName,\n\t\t\t\troleDesc\n\t\t\t});\n\t\t\t//判断是否修改成功\n\t\t\tif (res.meta.status !== 200) {\n\t\t\t\treturn this.$message.error(res.meta.msg);\n\t\t\t}\n\t\t\t//修改成功\n\t\t\tthis.$message.success(\"修改角色信息成功\");\n\t\t\t//关闭对话框\n\t\t\tthis.editDialogVisible = false;\n\t\t\t//重新获取角色列表数据\n\t\t\tawait this.getRoleList();\n\t\t}\n\t}\n\t\n};\n</script>\n\n<style scoped lang=\"scss\">\n.el-tag {\n\tmargin: 7px 7px 7px 30px;\n}\n.bdtop {\n\tborder-top: 1px solid #eee;\n}\n.bdbottom {\n\tborder-bottom: 1px solid #eee;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Roles.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Roles.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Roles.vue?vue&type=template&id=35e6f734&scoped=true&\"\nimport script from \"./Roles.vue?vue&type=script&lang=js&\"\nexport * from \"./Roles.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Roles.vue?vue&type=style&index=0&id=35e6f734&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"35e6f734\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","path","_v","roleList","scopedSlots","_u","key","fn","scope","staticClass","_l","row","children","item1","i1","id","class","_s","authName","item2","i2","on","$event","showEditDialog","removeUserById","editDialogVisible","ref","model","value","roleName","callback","$$v","$set","expression","roleDesc","slot","editRole","staticRenderFns","data","created","methods","confirmButtonText","cancelButtonText","type","component"],"sourceRoot":""}