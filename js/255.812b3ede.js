"use strict";(self["webpackChunkBack_end_management_system_E_commerce"]=self["webpackChunkBack_end_management_system_E_commerce"]||[]).push([[255],{9255:function(e,a,t){t.r(a),t.d(a,{default:function(){return m}});var s=function(){var e=this,a=e._self._c;return a("div",[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),a("el-breadcrumb-item",[e._v("商品管理")]),a("el-breadcrumb-item",[e._v("商品分类")])],1),a("br"),a("el-card",[a("el-alert",{attrs:{title:"注意：商品参数只能添加三级分类",type:"warning",closable:"","show-icon":""}}),a("br"),a("el-row",{staticClass:"cat_opt"},[a("span",[e._v("选择商品分类:")]),a("el-cascader",{attrs:{options:e.catList,props:{expandTrigger:"hover",...e.cateProps}},on:{change:e.handleChange},model:{value:e.SelectedCateKeys,callback:function(a){e.SelectedCateKeys=a},expression:"SelectedCateKeys"}})],1),a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(a){e.activeName=a},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"动态参数",name:"many"}},[a("el-button",{attrs:{type:"primary",size:"mini",disabled:e.isBtnDisabled}},[e._v("添加参数")])],1),a("el-tab-pane",{attrs:{label:"静态属性",name:"only"}},[a("el-button",{attrs:{type:"primary",size:"mini",disabled:e.isBtnDisabled}},[e._v("添加属性")])],1)],1)],1)],1)},r=[],i={data(){return{catList:[],cateProps:{value:"cat_id",label:"cat_name",children:"children"},SelectedCateKeys:[],activeName:"many",manyTableData:[],onlyTableData:[]}},created(){this.getParamsList()},methods:{async getParamsList(){const{data:e}=await this.$http.get("categories");if(200!==e.meta.status)return this.$message.error("获取商品分类列表失败");this.catList=e.data},handleChange(){this.getParamsData()},handleClick(){this.getParamsData()},async getParamsData(){const{data:e}=await this.$http.get(`categories/${this.cateId}/attributes`,{params:{sel:this.activeName}});if(200!==e.meta.status)return this.$message.error("获取参数列表失败");"many"===this.activeName?this.manyTableData=e.data:this.onlyTableData=e.data}},computed:{isBtnDisabled(){return 3!==this.SelectedCateKeys.length},cateId(){return this.SelectedCateKeys[2]}}},l=i,n=t(1001),c=(0,n.Z)(l,s,r,!1,null,"00d07c22",null),m=c.exports}}]);
//# sourceMappingURL=255.812b3ede.js.map